<!DOCTYPE html>
<html lang="ru" dir="ltr" data-navigation-type="default" data-navbar-horizontal-shape="default">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/favicon.ico">
    <title>TGPoint Admin</title>

    <!-- Phoenix scripts that define CSS variables MUST load before stylesheets -->
    <script src="/vendors/lodash/lodash.min.js"></script>
    <script src="/vendors/simplebar/simplebar.min.js"></script>
    <script src="/assets/js/config.js"></script>
    
    <!-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É lodash -->
    <script>
      if (typeof window.lodash === 'undefined') {
        console.log('‚ö†Ô∏è lodash –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –ø—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å...')
        // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å lodash –∏–∑ CDN –µ—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
        const lodashScript = document.createElement('script')
        lodashScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js'
        lodashScript.onload = () => console.log('‚úÖ lodash –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ CDN')
        document.head.appendChild(lodashScript)
      }
      
      // –°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é toggleNavbarVerticalCollapsed –°–†–ê–ó–£
      if (!window.phoenix) {
        window.phoenix = {}
      }
      
      window.phoenix.toggleNavbarVerticalCollapsed = function() {
        console.log('üéØ toggleNavbarVerticalCollapsed –≤—ã–∑–≤–∞–Ω–∞!')
        console.log('üéØ document.documentElement:', document.documentElement)
        console.log('üéØ –¢–µ–∫—É—â–∏–µ –∫–ª–∞—Å—Å—ã:', document.documentElement.className)
        
        const html = document.documentElement
        const isCollapsed = html.classList.contains('navbar-vertical-collapsed')
        
        console.log('üéØ isCollapsed:', isCollapsed)
        
        if (isCollapsed) {
          // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Å–∞–π–¥–±–∞—Ä
          html.classList.remove('navbar-vertical-collapsed')
          localStorage.setItem('phoenixIsNavbarVerticalCollapsed', 'false')
          
          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
          const navbar = document.querySelector('.navbar-vertical')
          if (navbar) {
            navbar.classList.remove('navbar-vertical-collapsed')
          }
          
          // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫–∏
          if (window.feather) {
            window.feather.replace()
          }
          
          console.log('Phoenix: —Å–∞–π–¥–±–∞—Ä —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç')
          console.log('üéØ –ö–ª–∞—Å—Å—ã –ø–æ—Å–ª–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è:', html.className)
        } else {
          // –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Å–∞–π–¥–±–∞—Ä
          html.classList.add('navbar-vertical-collapsed')
          localStorage.setItem('phoenixIsNavbarVerticalCollapsed', 'true')
          
          // –°–∫—Ä—ã–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
          const navbar = document.querySelector('.navbar-vertical')
          if (navbar) {
            navbar.classList.add('navbar-vertical-collapsed')
          }
          
          // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫–∏
          if (window.feather) {
            window.feather.replace()
          }
          
          console.log('Phoenix: —Å–∞–π–¥–±–∞—Ä —Å–≤–µ—Ä–Ω—É—Ç')
          console.log('üéØ –ö–ª–∞—Å—Å—ã –ø–æ—Å–ª–µ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è:', html.className)
          console.log('üéØ –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∫–ª–∞—Å—Å –¥–æ–±–∞–≤–∏–ª—Å—è:', html.classList.contains('navbar-vertical-collapsed'))
          
          // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∏–ª–∏
          console.log('üéØ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∏–ª–∏...')
          html.style.display = 'none'
          html.offsetHeight // force reflow
          html.style.display = ''
          console.log('üéØ –°—Ç–∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã')
          
          // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º —à–∏—Ä–∏–Ω—É —Å–∞–π–¥–±–∞—Ä–∞
          console.log('üéØ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º —à–∏—Ä–∏–Ω—É —Å–∞–π–¥–±–∞—Ä–∞...')
          const sidebar = document.querySelector('.navbar-vertical')
          if (sidebar) {
            if (isCollapsed) {
              sidebar.style.width = 'var(--phoenix-navbar-vertical-collapsed-width)'
              console.log('üéØ –°–∞–π–¥–±–∞—Ä —Å–≤–µ—Ä–Ω—É—Ç, —à–∏—Ä–∏–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:', getComputedStyle(sidebar).width)
            } else {
              sidebar.style.width = 'var(--phoenix-navbar-vertical-width)'
              console.log('üéØ –°–∞–π–¥–±–∞—Ä —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç, —à–∏—Ä–∏–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:', getComputedStyle(sidebar).width)
            }
          }
          
          // –ü—Ä–æ–≤–µ—Ä—è–µ–º CSS –ø—Ä–∞–≤–∏–ª–∞ —Å–∞–π–¥–±–∞—Ä–∞
          console.log('üé® –ü—Ä–æ–≤–µ—Ä—è–µ–º CSS –ø—Ä–∞–≤–∏–ª–∞ —Å–∞–π–¥–±–∞—Ä–∞...')
          const sidebar = document.querySelector('.navbar-vertical')
          if (sidebar) {
            const computedStyle = window.getComputedStyle(sidebar)
            console.log('üé® –°–∞–π–¥–±–∞—Ä width:', computedStyle.width)
            console.log('üé® –°–∞–π–¥–±–∞—Ä transform:', computedStyle.transform)
            console.log('üé® –°–∞–π–¥–±–∞—Ä transition:', computedStyle.transition)
          }
          
          // –ü—Ä–æ–≤–µ—Ä—è–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Phoenix
          console.log('üé® CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Phoenix:')
          console.log('--phoenix-navbar-vertical-width:', getComputedStyle(document.documentElement).getPropertyValue('--phoenix-navbar-vertical-width'))
          console.log('--phoenix-navbar-vertical-collapsed-width:', getComputedStyle(document.documentElement).getPropertyValue('--phoenix-navbar-vertical-collapsed-width'))
          
          // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Phoenix
          console.log('üé® –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ...')
          document.documentElement.style.setProperty('--phoenix-navbar-vertical-width', '16.5rem')
          document.documentElement.style.setProperty('--phoenix-navbar-vertical-collapsed-width', '4rem')
          console.log('üé® CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:')
          console.log('--phoenix-navbar-vertical-width:', getComputedStyle(document.documentElement).getPropertyValue('--phoenix-navbar-vertical-width'))
          console.log('--phoenix-navbar-vertical-collapsed-width:', getComputedStyle(document.documentElement).getPropertyValue('--phoenix-navbar-vertical-collapsed-width'))
        }
        
        console.log('Phoenix toggleNavbarVerticalCollapsed –≤—ã–∑–≤–∞–Ω, –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:', !isCollapsed)
        
        // –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        window.dispatchEvent(new CustomEvent('phoenix.navbar.toggle', {
          detail: { collapsed: !isCollapsed }
        }))
      }
      
      // –°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —á—Ç–æ Phoenix –≥–æ—Ç–æ–≤
      window.phoenixReady = true
      console.log('‚úÖ Phoenix –≥–æ—Ç–æ–≤!')
      console.log('window.phoenixReady:', window.phoenixReady)
      console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏:')
      console.log('window.phoenix:', window.phoenix)
      console.log('window.phoenix.toggleNavbarVerticalCollapsed:', typeof window.phoenix.toggleNavbarVerticalCollapsed)
      console.log('window.phoenix.toggleNavbarVerticalCollapsed === function:', typeof window.phoenix.toggleNavbarVerticalCollapsed === 'function')
    </script>

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700;800;900&amp;display=swap" rel="stylesheet">
    
    <!-- Phoenix CSS -->
    <link href="/vendors/simplebar/simplebar.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
    <link href="/css/theme.min.css" type="text/css" rel="stylesheet" id="style-default">
    <link href="/css/user.min.css" type="text/css" rel="stylesheet" id="user-style-default">
    
    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Phoenix core scripts (after CSS) -->
    <script src="/vendors/feather-icons/feather.min.js"></script>
    
    <!-- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ docs.js -->
    <script>
      // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ phoenix.js
      window.addEventListener('error', function(e) {
        if (e.message.includes('Toast') || e.filename.includes('docs.js') || 
            e.filename.includes('list.min.js') || e.message.includes('childNodes')) {
          console.log('üö´ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É:', e.message, '–∏–∑', e.filename)
          e.preventDefault()
          return false
        }
      })
    </script>
    
  </head>

  <body>
    <!-- ===============================================-->
    <!--    Main Content-->
    <!-- ===============================================-->
    <main class="main" id="top">
      <!-- Vue app will be mounted here -->
      <div id="app"></div>
    </main>
    
    <!-- ===============================================-->
    <!--    JavaScripts-->
    <!-- ===============================================-->
    <script src="/vendors/popper/popper.min.js"></script>
    <script src="/vendors/bootstrap/bootstrap.min.js"></script>
    <script src="/vendors/anchorjs/anchor.min.js"></script>
    <script src="/vendors/is/is.min.js"></script>
    <script src="/vendors/fontawesome/all.min.js"></script>
    <script src="/vendors/dayjs/dayjs.min.js"></script>
    
    <!-- Phoenix core must load after Bootstrap -->
    <script src="/assets/js/phoenix.js"></script>
    <!-- ECharts and dashboard initializers depend on phoenix.utils -->
    <script src="/vendors/echarts/echarts.min.js"></script>
    <script src="/assets/js/dashboards/ecommerce-dashboard.js"></script>
    
    <script>
      // –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç
      console.log('üöÄ JavaScript —Ä–∞–±–æ—Ç–∞–µ—Ç!')

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Å–∫—Ä–∏–ø—Ç–æ–≤
      console.log('=== –ü–†–û–í–ï–†–ö–ê –°–ö–†–ò–ü–¢–û–í ===')
      console.log('window.lodash:', !!window.lodash)
      console.log('window.SimpleBar:', !!window.SimpleBar)
      console.log('window.config:', !!window.config)
      console.log('window.feather:', !!window.feather)
      console.log('window.phoenix:', !!window.phoenix)
      console.log('window.bootstrap:', !!window.bootstrap)
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º CSS —Ñ–∞–π–ª—ã
      console.log('üé® –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS —Ñ–∞–π–ª–æ–≤:')
      const themeCSS = document.querySelector('link[href*="theme.min.css"]')
      const userCSS = document.querySelector('link[href*="user.min.css"]')
      console.log('theme.min.css –∑–∞–≥—Ä—É–∂–µ–Ω:', !!themeCSS)
      console.log('user.min.css –∑–∞–≥—Ä—É–∂–µ–Ω:', !!userCSS)
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ CSS –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
      const testElement = document.createElement('div')
      testElement.style.position = 'absolute'
      testElement.style.left = '-9999px'
      testElement.className = 'navbar-vertical-collapsed'
      document.body.appendChild(testElement)
      
      const computedStyle = window.getComputedStyle(testElement)
      console.log('üé® CSS –ø—Ä–∞–≤–∏–ª–∞ navbar-vertical-collapsed –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', computedStyle.display !== '')
      
      document.body.removeChild(testElement)
    </script>
    
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
